
**Tutorial: Lazarus Android Module Wizard for "Ant" users ** 


	Version 0.6 -  15 october 2014 -
				

"A wizard for create JNI Android loadable module (.so) in Lazarus/Free Pascal using DataModules" 


      Author: Jose Marques Pessoa : jmpessoa__hotmail_com
     
      Please, for complete reference read "readme.txt"


I. INSTALL LiteZarus4Android
			
	FPC: 2.7.1 SVN 26270  win32/arm-android/i386-android
	Android NDK: r9b (arm-linux-androideabi-4.6 + x86-4.6)

			:DOWNLOAD from: https://onedrive.live.com/redir?resid=78D6F726E8F0C522%21236 [right to download!]
			:To Install, please, read the "LiteZarus4Android_readme.txt"


			1. From LiteZarus4Android IDE - Install Wizard Packages

			1.1 Package -> Open Package -> "tfpandroidbridge_pack.lpk"  [Android Components Bridges!]
				Ref. image: https://www.opendrive.com/files?Ml8zNjMwNDQ3NF83SzhsZg

			1.1.1 From Package Wizard
				- Compile
				- Use -> Install
 			1.2 Package -> Open Package -> "lazandroidwizardpack.lpk"
   			1.2.1 From Package Wizard
				- Compile
				- Use -> Install     

			HINT: to compile/install/reinstall a package in LiteZarus4Android,
				please, open a "dummy" windows project.... you always MUST close the cross compile project!  
			
		-->> Linux Users: Get Lazarus 1.3 rev >= 45216,45217 ... and fpc 2.7.1 cross /arm/x86/android ... etc.
       

   1. From LiteZarus4Android IDE  - Install Packages


      HINT: to compile/install/reinstall a package in LiteZarus4Android, please, open a "dummy" windows project.... 
            you always MUST close the cross compile project!  
 

      1.1 Package -> Open Package -> "tfpandroidbridge_pack.lpk"

	  Ref. image: http://www.opendrive.com/files?Ml8zNjMwNDQ3NF83SzhsZg


      1.1.1 From Package Wizard

            - Compile
            - Use -> Install
 
      1.2 Package -> Open Package -> "lazandroidwizardpack.lpk"
   
      1.2.1 From Package Wizard

            - Compile
            - Use -> Install


II. [GUI Project Support] Android Components Bridges - NEW! Simon's Controls remake with many extensions!
        
       :: Support for "Android Bridges" components Controls [jControls/jVisualControls]!

  1. From Lazarus IDE
	
	1.1. Project -> New Project 
        
	1.2. On "Create a new project" Dialog select: <JNI Android Module> 

	     ref. Image: http://www.opendrive.com/files?Ml8zNjMwMTY4MF9HMVRHRg
        

        1.3. From "Android Module Wizard: Configure Paths"

             ref. Image: http://jmpessoa.opendrive.com/files?Ml8zNzM2NzE1OV9YdHJXaw
                        
                         
   		-Path to Java JDK
     	
	          ex. C:\Program Files (x86)\Java\jdk1.7.0_21    {java win32}


       		-Path to Android SDK

                  ex. C:\adt32\sdk


		-Select Ndk version: [9b]


		-Select Android Platform: [ex. android-14]


	     	-Path to Ndk 

	          ex.  C:\adt32\ndk9b    
   

		-Path to Java Resources  [Simonsayz's Controls.java,  *.xml and default Icons]:
     	
		  ex. C:\LiteZarus4Android\components\LazAndroidWizard\java


          	-Path to Workspace [just a projects folder]

         	  ex. C:\adt32\ant\workspace


 	        -Ant Project Name:	-Ant Package Preface Name	                                             
   
	          ex.AppAntDemo1        ex. org.jmpessoa   ::warning: final package name = "org.jmpessoa.appantdemo1"	  

                                                  
	        -Select others Options [Instructions; FPU; Project "Ant"; GUI Controls "Yes"; Target Api, etc...] 


        1.4. OK!

                         
        1.5. From "Android Module Wizard: Select Java Source for JNI..."

		-From left panel/tree Select Project by name -> src

                -From top panel/View right click "App.java" file 

		    --> On Popup menu select/click <Get Simonsayz's Templates> 
            
		 	ref. Image: http://www.opendrive.com/files?Ml8zNjMwMjI1Ml9kOXNRag 


                -Double Click "Control.java" file...
 
		 	ref. Image: http://www.opendrive.com/files?Ml8zNjMwMjkyM183ZVd2MA

	1.6. OK  

	        - Pascal JNI Interface was created! 	


	1.7. follow the hint on code: "save all files to location....."  { \jni folder }


	1.8. From Component Palette select page <Android Bridges>

        
        	ref. Image: http://www.opendrive.com/files?Ml8zNjMwNDQ3NF83SzhsZg
                            
		-Put e configure some component on android form... etc...


	1.9. From LiteZarus4Android IDE

		-Run -> Build


        2.0. Yes! You got it! ".so" was created! see \libs folder...


        2.1. NEW! For multi build modes, please, read "readme.txt" in ..\jni\build-modes folder 


        2.2. Please, read the "readme.txt" in your project folder to learn how to buidl Android Application [Apk]

  
III. [No GUI Project Support] - just a basic android ".so" - 

      :: No Support for "Android Bridges" components  jControls/jVisualControls!

      
1. From LiteZarus4Android IDE 


   1.1. On "Create a new project" Dialog select: <JNI Android Module> 

       ref. Image: http://www.opendrive.com/files?Ml8zNjg3MDU0MV9nTXZsdA


   1.2. From "Android Module Wizard: Configure Paths"

  
             ref. Image: http://jmpessoa.opendrive.com/files?Ml8zNzM2NzE1OV9YdHJXaw
                        
                         
   		-Path to Java JDK
     	
	          ex. C:\Program Files (x86)\Java\jdk1.7.0_21    {win32}


       		-Path to Android SDK

                  ex. C:\adt32\sdk


		-Select Ndk version: [9b]

		
		-Select Android Platform: [ex. android-14]


	     	-Path to Ndk 

	          ex.  C:\adt32\ndk9b      


		-Path to Java Resources  [Simonsayz's Controls.java,  *.xml and default Icons]:
     	         
                 ex. C:\LiteZarus4Android\components\LazAndroidWizard\java    [... need for "*.xml", icons, and etc...] 


          	-Path to Workspace [just a projects folder]

         	  ex. C:\adt32\ant\workspace 


	        -Ant Project Name:	-Ant Package Preface Name	                                             
   
	         ex.AppAntNoGUIDemo1     ex. org.jmpessoa   ::warning: final package name = "org.jmpessoa.appantnoguidemo1"	  

                                                  
	        -Select others Options [Instructions; FPU; Project "Ant" ; Target Api, etc...] 


   2.3. OK!


   2.4. From "Android Module Wizard: Select Java Source for JNI..."

     -From left panel/tree Select Project by Name [AppAntNoGUIDemo1] -> src
 
     -From top panel/View double Click the Java wrapper class for native methods....
 
      ex. "JNIHello.java" 


   2.5. OK!  

      - Pascal JNI Interface was created! 	


   2.6. follow the code hint: "save all files to location....." {save all in \jni folder ...}

     
   2.7. Implement the Pascal JNI Interface methods.....


   2.8. From LiteZarus4Android IDE

       -Run -> Build         


   2.9. Yes! You got it! ".so" was created! see \libs folder...

   
   3.0. NEW! For multi build modes, please, read "readme.txt" in ..\jni\build-modes folder 


   3.1. Please, read the "readme.txt" in your project folder to learn how to buidl Android Application [Apk]
                      	

IV. How to use the Demos:

	1. Open the lazarus project "controls.lpi" [...\jni] 

	Change this informations to correct one!

	"C:\adt32\ndk7"   -- just my system NDK path
	"C:\adt32\eclipse\workspace"  -- just my system eclipse workspace 

	2. Go to Lazarus IDE

		->Project

		->Project -> Option

		->Path

		change/modify paths according to your system ..


	3. Open/edit the "controls.lpi" [...\jni],  you can use Notepad like editor....

		Modify some [piece] of path information 

		[C:\adt32\eclipse\workspace] 
		[C:\adt32\ndk7]

		according to your system ..


V. Yes! Lazarus/Free Pascal does RAD on Android!



    Thank you!

    _____jmpessoa_hotmail_com_____
